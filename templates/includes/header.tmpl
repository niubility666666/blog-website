{{define "header"}}
<header>
  <div class="container">
    <div class="navbar">
      <div class="nav-links">
        <a href="/" class="logo">{{(global).SiteName}}</a>
        {{range (global).Categories}}
        <a href="/categories/{{.Alias}}">{{.Name}}</a>
        {{end}}
      </div>

      <div class="search-bar" id="searchBar">
        <input type="text" placeholder="æœç´¢å†…å®¹..." id="searchInput">
        <button id="searchButton">æœç´¢</button>
        <!-- æ·»åŠ ä¸‹æ‹‰èœå• -->
        <div class="search-dropdown" id="searchDropdown" style="display: none;">
          <div class="search-option" data-type="posts">æœç´¢å¸–å­ï¼š<span class="search-keyword"></span></div>
          <div class="search-option" data-type="users">æœç´¢ç”¨æˆ·ï¼š<span class="search-keyword"></span></div>
          <div class="search-option" data-type="google">è°·æ­Œæœç´¢ï¼š<span class="search-keyword"></span></div>
        </div>
      </div>

      <div class="header-actions">
        <button class="theme-toggle" id="themeToggle" title="åˆ‡æ¢ä¸»é¢˜">
          <span class="theme-icon">ğŸŒ™</span>
        </button>

        <div class="user-actions">
          {{if .user}}
          <!-- ç”¨æˆ·å·²ç™»å½•çŠ¶æ€ -->
          <div class="user-dropdown">
            <div class="user-info" id="userDropdown">
              <img src="{{.user.Avatar}}" alt="{{.user.Name}}" class="user-avatar">
              <span class="username">{{.user.Name}}</span>
              <span class="dropdown-arrow">â–¼</span>
            </div>
            <div class="dropdown-menu" id="dropdownMenu">
              <a href="/profile">ä¸ªäººèµ„æ–™</a>
              <a href="/settings">è®¾ç½®</a>
              <a href="/logout">é€€å‡ºç™»å½•</a>
            </div>
          </div>
          {{else if eq .CurrentPath "/login"}}
          <a href="/" class="btn btn-primary">å›åˆ°é¦–é¡µ</a>
          {{else if eq .CurrentPath "/register"}}
          <a href="/" class="btn btn-outline">å›åˆ°é¦–é¡µ</a>
          {{else}}
          <a href="/login" class="btn btn-outline">ç™»å½•</a>
          <a href="/register" class="btn btn-primary">æ³¨å†Œ</a>
          {{end}}
        </div>
      </div>
    </div>
  </div>
</header>
{{end}}
